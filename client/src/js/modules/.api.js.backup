import { createAction, handleActions } from 'redux-actions';
import { pender } from 'redux-pender';
import axios from 'axios';

const GET_POST = 'GET_POST';

export const getMatches = numberOfMatches => ({
    type: GET_POST,
    payload: axios.post('/api/admin/loadMatchList', {
        numberOfMatches,
    }),
});

export const getPost = createAction(GET_POST, getMatches);

const initialState = {
    data: {
        matches: [],
    },
};

export default handleActions(
    {
        ...pender({
            type: GET_POST,
            onSuccess: (state, action) => {
                const { matches } = action.payload.data;
                return {
                    data: matches,
                };
            },
        }),
    },
    initialState,
);

// export const addMatch = (date, time, home, away) => {
//     axios
//         .post('/api/admin/addMatch', {
//             date,
//             time,
//             home,
//             away,
//         })
//         .then((response) => {});
// };

// export const loadMatches = numberOfMatches => axios
//     .post('/api/admin/loadMatches', {
//         numberOfMatches,
//     })
//     .then(response => response.data);

// export const deleteMatch = (id) => {
//     axios.post('/api/admin/deleteMatch', {
//         id,
//     });
// };

// export const updateMatch = (id, update) => {
//     axios.post('/api/admin/matchEnd', {
//         id,
//         update,
//     });
// };
